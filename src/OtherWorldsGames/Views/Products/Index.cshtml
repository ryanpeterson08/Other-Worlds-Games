@{
    ViewData["Title"] = "Products";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4>Browse Our Online Store</h4>

@model IEnumerable<OtherWorldsGames.Models.Product>

<div class="row">
    @{ 
        string Image = "";
        @foreach(var product in Model)
        {
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel panel-heading">@Html.DisplayFor(p => product.Name)</div>
                    <div class="panel-body">
                        @if(product.Image != null)
                        {
                            var base64 = Convert.ToBase64String(product.Image);
                            Image = String.Format("data:image/gif;base64,{0}", base64);
                            <div>
                                <img height="300" width="300" src="@Image" />
                            </div>

                        }
                        @Html.ActionLink("Details", "Details", new { id = product.ProductId })
                    </div>
                </div>  
            </div>
        }
    }

</div>

@Html.ActionLink("Add Product", "Create")<br />
@Html.ActionLink("Add a Category", "Create", "Category")
